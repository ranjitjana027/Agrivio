<!DOCTYPE html>
<html>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<head>
		<title>Weather</title>
	</head>
	<body>
		<script type="text/javascript">
		

			function showPosition(position) {
					lat= position.coords.latitude ;
					lon= position.coords.longitude;
					weatherUpdate(lat,lon);
				}
			navigator.geolocation.getCurrentPosition(showPosition);
			function weatherUpdate(lat,lon){
				var request=new XMLHttpRequest();
				request.open("GET", "https://api.openweathermap.org/data/2.5/weather?lat="+lat+"&lon="+lon+"&appid=bbd7cea7000ec20b5d560c73b59adcc4&units=metric");
				request.onload=()=>{
					data=JSON.parse(request.responseText);
					city=data["name"];
					desc=data["weather"][0]["description"];
					temp=Number(data["main"]["temp"]).toFixed(1);
					feels_like=Number(data["main"]["feels_like"]).toFixed(1);
					humidity=(data["main"]["humidity"]);
					temp_min=Number(data["main"]["temp_min"]).toFixed(1);
					temp_max = Number(data["main"]["temp_max"]).toFixed(1);
					sunrise=new Date(Number(data["sys"]["sunrise"]) * 1000).toLocaleTimeString();
					sunset= new Date(Number(data["sys"]["sunset"]) * 1000).toLocaleTimeString();;
					document.writeln("City: "+city+"<br>Weather: "+desc+"<br>Temperature: "+temp+" &deg;c<br>Feels like: "+feels_like+" &deg;c<br>Humidity: "+humidity+"&#37;<br>Minimum Temperature: "
					+ temp_min+" &deg;c<br>Maximum Temperatur: "+temp_max+" &deg;c<br>Sunrise: "+sunrise+"<br>Sunset: "+sunset);

				}
				request.send();
			}
		</script>
	</body>
</html>